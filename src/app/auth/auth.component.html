<div
  class="w-full min-h-screen flex items-center justify-center px-4 bg-transparent"
>
  <div
    class="bg-base-100 shadow-2xl rounded-xl w-full max-w-4xl overflow-hidden relative flex flex-col md:flex-row transition-all duration-500"
    [ngClass]="{ 'right-panel-active': isSignUp }"
  >
    <!-- Book Image Panel - visible on md+ screens -->
    <div class="hidden md:block md:w-1/2 relative">
      <img
        src="https://images.unsplash.com/photo-1512820790803-83ca734da794?auto=format&fit=crop&w=600&q=80"
        alt="Bookshelf"
        class="object-cover h-full w-full rounded-l-xl"
        loading="lazy"
      />
    </div>

    <!-- Sign In Form -->
    <div
      class="form-container w-full md:w-1/2 p-10 flex flex-col justify-center bg-base-100"
    >
      <form (ngSubmit)="!isSignUp ? signIn() : signUp()" class="space-y-6">
        <h1 class="text-3xl font-extrabold mb-6 text-center text-primary">
          {{ isSignUp ? "Create Account" : "Sign In" }}
        </h1>

        <!-- Show inputs based on mode -->
        <ng-container *ngIf="!isSignUp">
          <input
            type="email"
            class="input input-bordered input-lg w-full rounded-lg shadow-sm focus:shadow-lg focus:outline-none focus:ring-2 focus:ring-primary transition"
            placeholder="Email"
            [(ngModel)]="signInData.email"
            name="email"
            required
          />
          <input
            type="password"
            class="input input-bordered input-lg w-full rounded-lg shadow-sm focus:shadow-lg focus:outline-none focus:ring-2 focus:ring-primary transition"
            placeholder="Password"
            [(ngModel)]="signInData.password"
            name="password"
            required
          />
                 <!-- Error Message -->

                 <div role="alert" class="alert alert-error" *ngIf="errorMessage">
                  <svg
                    xmlns="http://www.w3.org/2000/svg"
                    class="h-6 w-6 shrink-0 stroke-current"
                    fill="none"
                    viewBox="0 0 24 24"
                  >
                    <path
                      stroke-linecap="round"
                      stroke-linejoin="round"
                      stroke-width="2"
                      d="M10 14l2-2m0 0l2-2m-2 2l-2-2m2 2l2 2m7-2a9 9 0 11-18 0 9 9 0 0118 0z"
                    />
                  </svg>
                  <span>{{ errorMessage }}</span>
                </div>
          <a class="link link-hover text-sm text-right text-primary"
            >Forgot your password?</a
          >
          <button
            type="submit"
            class="btn btn-primary btn-lg w-full rounded-lg font-semibold hover:btn-secondary transition"
          >
            Sign In
          </button>
          <p class="mt-6 text-center text-sm">
            Don't have an account?
            <span
              class="link text-primary cursor-pointer font-semibold"
              (click)="toggleMode()"
              >Sign Up</span
            >
          </p>
        </ng-container>

        <ng-container *ngIf="isSignUp">
          <input
            type="text"
            class="input input-bordered input-lg w-full rounded-lg shadow-sm focus:shadow-lg focus:outline-none focus:ring-2 focus:ring-primary transition"
            placeholder="Full Name"
            [(ngModel)]="signUpData.fullname"
            name="fullname"
            required
          />
          <input
            type="email"
            class="input input-bordered input-lg w-full rounded-lg shadow-sm focus:shadow-lg focus:outline-none focus:ring-2 focus:ring-primary transition"
            placeholder="Email"
            [(ngModel)]="signUpData.email"
            name="email"
            required
          />
          <input
            type="password"
            class="input input-bordered input-lg w-full rounded-lg shadow-sm focus:shadow-lg focus:outline-none focus:ring-2 focus:ring-primary transition"
            placeholder="Password"
            [(ngModel)]="signUpData.password"
            name="password"
            required
          />
          <input
            type="text"
            class="input input-bordered input-lg w-full rounded-lg shadow-sm focus:shadow-lg focus:outline-none focus:ring-2 focus:ring-primary transition"
            placeholder="Phone"
            [(ngModel)]="signUpData.phone"
            name="phone"
            required
          />
          <!-- Error Message -->

          <div role="alert" class="alert alert-error" *ngIf="errorMessage">
            <svg
              xmlns="http://www.w3.org/2000/svg"
              class="h-6 w-6 shrink-0 stroke-current"
              fill="none"
              viewBox="0 0 24 24"
            >
              <path
                stroke-linecap="round"
                stroke-linejoin="round"
                stroke-width="2"
                d="M10 14l2-2m0 0l2-2m-2 2l-2-2m2 2l2 2m7-2a9 9 0 11-18 0 9 9 0 0118 0z"
              />
            </svg>
            <span>{{ errorMessage }}</span>
          </div>
          <button
            type="submit"
            class="btn btn-primary btn-lg w-full rounded-lg font-semibold hover:btn-secondary transition"
          >
            Sign Up
          </button>
          <p class="mt-6 text-center text-sm">
            Already have an account?
            <span
              class="link text-primary cursor-pointer font-semibold"
              (click)="toggleMode()"
              >Sign In</span
            >
          </p>
        </ng-container>
      </form>
    </div>
  </div>
</div>
